{
  "address": "0x3AB47293127c1D82c0477F6B50bdCb3475601e97",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "contract IUSM",
          "name": "usm_",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "debtRatio",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "ratio",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bool",
          "name": "roundUp",
          "type": "bool"
        }
      ],
      "name": "ethBuffer",
      "outputs": [
        {
          "internalType": "int256",
          "name": "buffer",
          "type": "int256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "ethAmount",
          "type": "uint256"
        }
      ],
      "name": "ethToFum",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "fumOut",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "ethAmount",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "roundUp",
          "type": "bool"
        }
      ],
      "name": "ethToUsm",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "usmOut",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "enum IUSM.Side",
          "name": "side",
          "type": "uint8"
        }
      ],
      "name": "fumPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "fumAmount",
          "type": "uint256"
        }
      ],
      "name": "fumToEth",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "ethOut",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "usm",
      "outputs": [
        {
          "internalType": "contract IUSM",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "enum IUSM.Side",
          "name": "side",
          "type": "uint8"
        }
      ],
      "name": "usmPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "usmAmount",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "roundUp",
          "type": "bool"
        }
      ],
      "name": "usmToEth",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "ethOut",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "transactionHash": "0x10c07322d12eb2cc0794e7f3f6a0d88412c75a1a84ff1a855e7282f063a538a6",
  "receipt": {
    "to": "0x4e59b44847b379578588920cA78FbF26c0B4956C",
    "from": "0x6b6d51559192B458420E678A543B3383668a360a",
    "contractAddress": null,
    "transactionIndex": 1,
    "gasUsed": "1311386",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x5d95ef14a1e2261765d096ee0a2e82d51d1a52756aa59fe2516a580ce94afa03",
    "transactionHash": "0x10c07322d12eb2cc0794e7f3f6a0d88412c75a1a84ff1a855e7282f063a538a6",
    "logs": [],
    "blockNumber": 26107190,
    "cumulativeGasUsed": "1409912",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x05D61818Da3a60BDCd831086Bf510c3f04c0b8A2"
  ],
  "solcInputHash": "bae24d8ddd46bde1c9aecba3c2b57f70",
  "metadata": "{\"compiler\":{\"version\":\"0.8.0+commit.c7dfd78e\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"contract IUSM\",\"name\":\"usm_\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"debtRatio\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"ratio\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bool\",\"name\":\"roundUp\",\"type\":\"bool\"}],\"name\":\"ethBuffer\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"buffer\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"ethAmount\",\"type\":\"uint256\"}],\"name\":\"ethToFum\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"fumOut\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"ethAmount\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"roundUp\",\"type\":\"bool\"}],\"name\":\"ethToUsm\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"usmOut\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"enum IUSM.Side\",\"name\":\"side\",\"type\":\"uint8\"}],\"name\":\"fumPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"fumAmount\",\"type\":\"uint256\"}],\"name\":\"fumToEth\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"ethOut\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"usm\",\"outputs\":[{\"internalType\":\"contract IUSM\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"enum IUSM.Side\",\"name\":\"side\",\"type\":\"uint8\"}],\"name\":\"usmPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"usmAmount\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"roundUp\",\"type\":\"bool\"}],\"name\":\"usmToEth\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"ethOut\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"author\":\"Alberto Cuesta Ca\\u00f1ada, Jacob Eliosoff, Alex Roan\",\"kind\":\"dev\",\"methods\":{\"debtRatio()\":{\"returns\":{\"ratio\":\"Debt ratio\"}},\"ethBuffer(bool)\":{\"returns\":{\"buffer\":\"ETH buffer\"}},\"ethToFum(uint256)\":{\"params\":{\"ethAmount\":\"The amount of ETH to convert\"},\"returns\":{\"fumOut\":\"The amount of FUM\"}},\"ethToUsm(uint256,bool)\":{\"params\":{\"ethAmount\":\"The amount of ETH to convert\"},\"returns\":{\"usmOut\":\"The amount of USM\"}},\"fumPrice(uint8)\":{\"returns\":{\"price\":\"FUM price in ETH terms\"}},\"fumToEth(uint256)\":{\"params\":{\"fumAmount\":\"The amount of USM to convert\"},\"returns\":{\"ethOut\":\"The amount of ETH\"}},\"usmPrice(uint8)\":{\"returns\":{\"price\":\"USM price in ETH terms\"}},\"usmToEth(uint256,bool)\":{\"params\":{\"usmAmount\":\"The amount of USM to convert\"},\"returns\":{\"ethOut\":\"The amount of ETH\"}}},\"title\":\"USM view-only proxy\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"debtRatio()\":{\"notice\":\"Calculate debt ratio.\"},\"ethBuffer(bool)\":{\"notice\":\"Calculate the amount of ETH in the buffer.\"},\"ethToFum(uint256)\":{\"notice\":\"Convert ETH amount to FUM using the latest oracle ETH/USD price.\"},\"ethToUsm(uint256,bool)\":{\"notice\":\"Convert ETH amount to USM using the latest oracle ETH/USD price.\"},\"fumPrice(uint8)\":{\"notice\":\"Calculate the *marginal* price of FUM (in ETH terms) - that is, of the next unit, before price start sliding.\"},\"fumToEth(uint256)\":{\"notice\":\"Convert USM amount to ETH using the latest oracle ETH/USD price.\"},\"usmPrice(uint8)\":{\"notice\":\"Calculate the *marginal* price of USM (in ETH terms) - that is, of the next unit, before price start sliding.\"},\"usmToEth(uint256,bool)\":{\"notice\":\"Convert USM amount to ETH using the latest oracle ETH/USD price.\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/USMView.sol\":\"USMView\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":20000},\"remappings\":[]},\"sources\":{\"acc-erc20/contracts/IERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Interface of the ERC20 standard as defined in the EIP.\\n */\\ninterface IERC20 {\\n    /**\\n     * @dev Returns the amount of tokens in existence.\\n     */\\n    function totalSupply() external view returns (uint256);\\n\\n    /**\\n     * @dev Returns the amount of tokens owned by `account`.\\n     */\\n    function balanceOf(address account) external view returns (uint256);\\n\\n    /**\\n     * @dev Moves `amount` tokens from the caller's account to `recipient`.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transfer(address recipient, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Returns the remaining number of tokens that `spender` will be\\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\\n     * zero by default.\\n     *\\n     * This value changes when {approve} or {transferFrom} are called.\\n     */\\n    function allowance(address owner, address spender) external view returns (uint256);\\n\\n    /**\\n     * @dev Sets `amount` as the allowance of `spender` over the caller's tokens.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * IMPORTANT: Beware that changing an allowance with this method brings the risk\\n     * that someone may use both the old and the new allowance by unfortunate\\n     * transaction ordering. One possible solution to mitigate this race\\n     * condition is to first reduce the spender's allowance to 0 and set the\\n     * desired value afterwards:\\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\\n     *\\n     * Emits an {Approval} event.\\n     */\\n    function approve(address spender, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Moves `amount` tokens from `sender` to `recipient` using the\\n     * allowance mechanism. `amount` is then deducted from the caller's\\n     * allowance.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\\n     * another (`to`).\\n     *\\n     * Note that `value` may be zero.\\n     */\\n    event Transfer(address indexed from, address indexed to, uint256 value);\\n\\n    /**\\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\\n     * a call to {approve}. `value` is the new allowance.\\n     */\\n    event Approval(address indexed owner, address indexed spender, uint256 value);\\n}\",\"keccak256\":\"0xa38ec4e151e4d397d05bdfb94e6e4eb91e57a9fca3bc1c655289a4adf31a58fa\",\"license\":\"MIT\"},\"contracts/IUSM.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0-or-later\\r\\npragma solidity 0.8.0;\\r\\n\\r\\nimport \\\"acc-erc20/contracts/IERC20.sol\\\";\\r\\n\\r\\nabstract contract IUSM is IERC20 {\\r\\n    event UnderwaterStatusChanged(bool underwater);\\r\\n    event BidAskAdjustmentChanged(uint adjustment);\\r\\n    event PriceChanged(uint timestamp, uint price);\\r\\n\\r\\n    enum Side {Buy, Sell}\\r\\n\\r\\n    // ____________________ External transactional functions ____________________\\r\\n\\r\\n    /**\\r\\n     * @notice Mint new USM, sending it to the given address, and only if the amount minted >= `minUsmOut`.  The amount of ETH\\r\\n     * is passed in as `msg.value`.\\r\\n     * @param to address to send the USM to.\\r\\n     * @param minUsmOut Minimum accepted USM for a successful mint.\\r\\n     */\\r\\n    function mint(address to, uint amount, uint minUsmOut) external virtual  returns (uint);\\r\\n\\r\\n    /**\\r\\n     * @dev Burn USM in exchange for ETH.\\r\\n     * @param from address to deduct the USM from.\\r\\n     * @param to address to send the ETH to.\\r\\n     * @param usmToBurn Amount of USM to burn.\\r\\n     * @param minEthOut Minimum accepted ETH for a successful burn.\\r\\n     */\\r\\n    function burn(address from, address to, uint usmToBurn, uint minEthOut) external virtual returns (uint);\\r\\n\\r\\n    /**\\r\\n     * @notice Funds the pool with ETH, minting new FUM and sending it to the given address, but only if the amount minted >=\\r\\n     * `minFumOut`.  The amount of ETH is passed in as `msg.value`.\\r\\n     * @param to address to send the FUM to.\\r\\n     * @param minFumOut Minimum accepted FUM for a successful fund.\\r\\n     */\\r\\n    function fund(address to, uint amount, uint minFumOut) external virtual  returns (uint);\\r\\n\\r\\n    /**\\r\\n     * @notice Defunds the pool by redeeming FUM in exchange for equivalent ETH from the pool.\\r\\n     * @param from address to deduct the FUM from.\\r\\n     * @param to address to send the ETH to.\\r\\n     * @param fumToBurn Amount of FUM to burn.\\r\\n     * @param minEthOut Minimum accepted ETH for a successful defund.\\r\\n     */\\r\\n    function defund(address from, address  to, uint fumToBurn, uint minEthOut) external virtual returns (uint);\\r\\n\\r\\n    // ____________________ Public transactional functions ____________________\\r\\n\\r\\n    function refreshPrice() public virtual returns (uint price, uint updateTime);\\r\\n\\r\\n    // ____________________ Public Oracle view functions ____________________\\r\\n\\r\\n    /**\\r\\n     * @return price the USM system's latest internal (mid) ETH/USD price, which may have been pushed up (by long-ETH\\r\\n     * operations, ie, burn() or fund()) or down (by short-ETH operations, mint() or defund()) since the last oracle update.\\r\\n     * Note that this may be a different value from `USM.oracle.latestPrice()`, which is not moved by USM user operations.\\r\\n     * @return updateTime the time as of which the price was updated.  This is not as simple as \\\"the last time the returned\\r\\n     * price changed\\\"; see the comment in `OurUniswapV2TWAPOracle._latestPrice()`.\\r\\n     */\\r\\n    function latestPrice() public virtual view returns (uint price, uint updateTime);\\r\\n\\r\\n    function latestOraclePrice() public virtual view returns (uint price, uint updateTime);\\r\\n\\r\\n    // ____________________ Public informational view functions ____________________\\r\\n\\r\\n    /**\\r\\n     * @notice Total amount of ETH in the pool (ie, in the contract).\\r\\n     * @return pool ETH pool\\r\\n     */\\r\\n    function ethPool() public virtual view returns (uint pool);\\r\\n\\r\\n    /**\\r\\n     * @notice Total amount of ETH in the pool (ie, in the contract).\\r\\n     * @return supply the total supply of FUM.  Users of this `IUSM` interface, like `USMView`, need to call this rather than\\r\\n     * `usm.fum().totalSupply()` directly, because `IUSM` doesn't (and shouldn't) know about the `FUM` type.\\r\\n     */\\r\\n    function fumTotalSupply() public virtual view returns (uint supply);\\r\\n\\r\\n    /**\\r\\n     * @notice The current bid/ask adjustment, equal to the stored value decayed over time towards its stable value, 1.  This\\r\\n     * adjustment is intended as a measure of \\\"how long-ETH recent user activity has been\\\", so that we can slide price\\r\\n     * accordingly: if recent activity was mostly long-ETH (`fund()` and `burn()`), raise FUM buy price/reduce USM sell price;\\r\\n     * if recent activity was short-ETH (`defund()` and `mint()`), reduce FUM sell price/raise USM buy price.\\r\\n     * @return adjustment The sliding-price bid/ask adjustment\\r\\n     */\\r\\n    function bidAskAdjustment() public virtual view returns (uint adjustment);\\r\\n\\r\\n    function timeSystemWentUnderwater() public virtual view returns (uint timestamp);\\r\\n\\r\\n    // ____________________ Public helper pure functions (for functions above) ____________________\\r\\n\\r\\n    /**\\r\\n     * @notice Calculate the amount of ETH in the buffer.\\r\\n     * @return buffer ETH buffer\\r\\n     */\\r\\n    function ethBuffer(uint ethUsdPrice, uint ethInPool, uint usmSupply, bool roundUp) public virtual pure returns (int buffer);\\r\\n\\r\\n    /**\\r\\n     * @notice Calculate debt ratio for a given eth to USM price: ratio of the outstanding USM (amount of USM in total supply),\\r\\n     * to the current ETH pool value in USD (ETH qty * ETH/USD price).\\r\\n     * @return ratio Debt ratio (or 0 if there's currently 0 ETH in the pool/price = 0: these should never happen after launch)\\r\\n     */\\r\\n    function debtRatio(uint ethUsdPrice, uint ethInPool, uint usmSupply) public virtual pure returns (uint ratio);\\r\\n\\r\\n    /**\\r\\n     * @notice Convert ETH amount to USM using a ETH/USD price.\\r\\n     * @param ethAmount The amount of ETH to convert\\r\\n     * @return usmOut The amount of USM\\r\\n     */\\r\\n    function ethToUsm(uint ethUsdPrice, uint ethAmount, bool roundUp) public virtual pure returns (uint usmOut);\\r\\n\\r\\n    /**\\r\\n     * @notice Convert USM amount to ETH using a ETH/USD price.\\r\\n     * @param usmAmount The amount of USM to convert\\r\\n     * @return ethOut The amount of ETH\\r\\n     */\\r\\n    function usmToEth(uint ethUsdPrice, uint usmAmount, bool roundUp) public virtual pure returns (uint ethOut);\\r\\n    \\r\\n    /**\\r\\n     * @notice Convert USM amount to ETH using a ETH/USD price.\\r\\n     * @param ethUsdPrice The amount of USM to convert\\r\\n     * @param ethAmount The amount of USM to convert\\r\\n     * @return fumOut The amount of ETH\\r\\n     */\\r\\n    function ethToFum(uint ethUsdPrice, uint ethAmount) external virtual view returns (uint fumOut);\\r\\n\\r\\n    /**\\r\\n     * @notice Convert FUM amount to ETH using a ETH/USD price.\\r\\n     * @param fumAmount The amount of FUM to convert\\r\\n     * @return ethOut The amount of ETH\\r\\n     */\\r\\n    function fumToEth(uint fumAmount) external virtual view returns (uint ethOut);\\r\\n    \\r\\n    /**\\r\\n     * @return price The ETH/USD price, adjusted by the `bidAskAdjustment` (if applicable) for the given buy/sell side.\\r\\n     */\\r\\n    function adjustedEthUsdPrice(Side side, uint ethUsdPrice, uint adjustment) public virtual pure returns (uint price);\\r\\n\\r\\n    /**\\r\\n     * @notice Calculate the *marginal* price of USM (in ETH terms): that is, of the next unit, before the price start sliding.\\r\\n     * @return price USM price in ETH terms\\r\\n     */\\r\\n    function usmPrice(Side side, uint ethUsdPrice) public virtual pure returns (uint price);\\r\\n\\r\\n    /**\\r\\n     * @notice Calculate the *marginal* price of FUM (in ETH terms): that is, of the next unit, before the price starts rising.\\r\\n     * @param usmEffectiveSupply should be either the actual current USM supply, or, when calculating the FUM *buy* price, the\\r\\n     * return value of `usmSupplyForFumBuys()`.\\r\\n     * @return price FUM price in ETH terms\\r\\n     */\\r\\n    function fumPrice(Side side, uint ethUsdPrice, uint ethInPool, uint usmEffectiveSupply, uint fumSupply) public virtual pure returns (uint price);\\r\\n\\r\\n    /**\\r\\n     * @return timeSystemWentUnderwater_ The time at which we first detected the system was underwater (debt ratio >\\r\\n     * `MAX_DEBT_RATIO`), based on the current oracle price and pool ETH and USM; or 0 if we're not currently underwater.\\r\\n     * @return usmSupplyForFumBuys The current supply of USM *for purposes of calculating the FUM buy price,* and therefore\\r\\n     * for `fumFromFund()`.  The \\\"supply for FUM buys\\\" is the *lesser* of the actual current USM supply, and the USM amount\\r\\n     * that would make debt ratio = `MAX_DEBT_RATIO`.  Example:\\r\\n     *\\r\\n     * 1. Suppose the system currently contains 50 ETH at price $1,000 (total pool value: $50,000), with an actual USM supply\\r\\n     *    of 30,000 USM.  Then debt ratio = 30,000 / $50,000 = 60%: < MAX 80%, so `usmSupplyForFumBuys` = 30,000.\\r\\n     * 2. Now suppose ETH/USD halves to $500.  Then pool value halves to $25,000, and debt ratio doubles to 120%.  Now\\r\\n     *    `usmSupplyForFumBuys` instead = 20,000: the USM quantity at which debt ratio would equal 80% (20,000 / $25,000).\\r\\n     *    (Call this the \\\"80% supply\\\".)\\r\\n     * 3. ...Except, we also gradually increase the supply over time while we remain underwater.  This has the effect of\\r\\n     *    *reducing* the FUM buy price inferred from that supply (higher JacobUSM supply -> smaller buffer -> lower FUM price).\\r\\n     *    The math we use gradually increases the supply from its initial \\\"80% supply\\\" value, where debt ratio =\\r\\n     *    `MAX_DEBT_RATIO` (20,000 above), to a theoretical maximum \\\"100% supply\\\" value, where debt ratio = 100% (in the $500\\r\\n     *    example above, this would be 25,000).  (Or the actual supply, whichever is lower: we never increase\\r\\n     *    `usmSupplyForFumBuys` above `usmActualSupply`.)  The climb from the initial 80% supply (20,000) to the 100% supply\\r\\n     *    (25,000) is at a rate that brings it \\\"halfway closer per `MIN_FUM_BUY_PRICE_HALF_LIFE` (eg, 1 day)\\\": so three days\\r\\n     *    after going underwater, the supply returned will be 25,000 - 0.5**3 * (25,000 - 20,000) = 24,375.\\r\\n     */\\r\\n    function checkIfUnderwater(uint usmActualSupply, uint ethPool_, uint ethUsdPrice, uint oldTimeUnderwater, uint currentTime) public virtual pure returns (uint timeSystemWentUnderwater_, uint usmSupplyForFumBuys, uint debtRatio_);\\r\\n}\",\"keccak256\":\"0x393960f25290f857e11e46259ff6c1f37da70b883704e3d00e4a313f1055b744\",\"license\":\"GPL-3.0-or-later\"},\"contracts/USMView.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0-or-later\\r\\npragma solidity 0.8.0;\\r\\n\\r\\nimport \\\"./IUSM.sol\\\";\\r\\n\\r\\n/**\\r\\n * @title USM view-only proxy\\r\\n * @author Alberto Cuesta Ca\\u00f1ada, Jacob Eliosoff, Alex Roan\\r\\n */\\r\\ncontract USMView {\\r\\n    IUSM public immutable usm;\\r\\n\\r\\n    constructor(IUSM usm_)\\r\\n    {\\r\\n        usm = usm_;\\r\\n    }\\r\\n\\r\\n    // ____________________ External informational view functions ____________________\\r\\n\\r\\n    /**\\r\\n     * @notice Calculate the amount of ETH in the buffer.\\r\\n     * @return buffer ETH buffer\\r\\n     */\\r\\n    function ethBuffer(bool roundUp) external view returns (int buffer) {\\r\\n        (uint price, ) = usm.latestPrice();\\r\\n        buffer = usm.ethBuffer(price, usm.ethPool(), usm.totalSupply(), roundUp);\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @notice Convert ETH amount to USM using the latest oracle ETH/USD price.\\r\\n     * @param ethAmount The amount of ETH to convert\\r\\n     * @return usmOut The amount of USM\\r\\n     */\\r\\n    function ethToUsm(uint ethAmount, bool roundUp) external view returns (uint usmOut) {\\r\\n        (uint price, ) = usm.latestPrice();\\r\\n        usmOut = usm.ethToUsm(price, ethAmount, roundUp);\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @notice Convert USM amount to ETH using the latest oracle ETH/USD price.\\r\\n     * @param usmAmount The amount of USM to convert\\r\\n     * @return ethOut The amount of ETH\\r\\n     */\\r\\n    function usmToEth(uint usmAmount, bool roundUp) external view returns (uint ethOut) {\\r\\n        (uint price, ) = usm.latestPrice();\\r\\n        ethOut = usm.usmToEth(price, usmAmount, roundUp);\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @notice Convert ETH amount to FUM using the latest oracle ETH/USD price.\\r\\n     * @param ethAmount The amount of ETH to convert\\r\\n     * @return fumOut The amount of FUM\\r\\n     */\\r\\n    function ethToFum(uint ethAmount) external view returns (uint fumOut) {\\r\\n        (uint price, ) = usm.latestPrice();\\r\\n        fumOut = usm.ethToFum(price, ethAmount);\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @notice Convert USM amount to ETH using the latest oracle ETH/USD price.\\r\\n     * @param fumAmount The amount of USM to convert\\r\\n     * @return ethOut The amount of ETH\\r\\n     */\\r\\n    function fumToEth(uint fumAmount) external view returns (uint ethOut) {\\r\\n        ethOut = usm.fumToEth(fumAmount);\\r\\n    }\\r\\n    \\r\\n    /**\\r\\n     * @notice Calculate debt ratio.\\r\\n     * @return ratio Debt ratio\\r\\n     */\\r\\n    function debtRatio() external view returns (uint ratio) {\\r\\n        (uint price, ) = usm.latestPrice();\\r\\n        ratio = usm.debtRatio(price, usm.ethPool(), usm.totalSupply());\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @notice Calculate the *marginal* price of USM (in ETH terms) - that is, of the next unit, before price start sliding.\\r\\n     * @return price USM price in ETH terms\\r\\n     */\\r\\n    function usmPrice(IUSM.Side side) external view returns (uint price) {\\r\\n        (uint ethUsdPrice, ) = usm.latestPrice();\\r\\n        IUSM.Side ethSide = (side == IUSM.Side.Buy ? IUSM.Side.Sell : IUSM.Side.Buy);   // Buying USM = selling ETH\\r\\n        uint adjustedPrice = usm.adjustedEthUsdPrice(ethSide, ethUsdPrice, usm.bidAskAdjustment());\\r\\n        price = usm.usmPrice(side, adjustedPrice);\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @notice Calculate the *marginal* price of FUM (in ETH terms) - that is, of the next unit, before price start sliding.\\r\\n     * @return price FUM price in ETH terms\\r\\n     */\\r\\n    function fumPrice(IUSM.Side side) external view returns (uint price) {\\r\\n        (uint ethUsdPrice, ) = usm.latestPrice();\\r\\n        uint adjustedPrice = usm.adjustedEthUsdPrice(side, ethUsdPrice, usm.bidAskAdjustment());\\r\\n        uint ethPool = usm.ethPool();\\r\\n        uint usmSupply = usm.totalSupply();\\r\\n        uint oldTimeUnderwater = usm.timeSystemWentUnderwater();\\r\\n        if (side == IUSM.Side.Buy) {\\r\\n            (, usmSupply, ) = usm.checkIfUnderwater(usmSupply, ethPool, ethUsdPrice, oldTimeUnderwater, block.timestamp);\\r\\n        }\\r\\n        price = usm.fumPrice(side, adjustedPrice, ethPool, usmSupply, usm.fumTotalSupply());\\r\\n    }\\r\\n}\",\"keccak256\":\"0xf0ebb954fff89fbc76322b57292e1055210f60dae549b20fdd8d3f9b39fd1f5f\",\"license\":\"GPL-3.0-or-later\"}},\"version\":1}",
  "bytecode": "0x60a060405234801561001057600080fd5b5060405161183038038061183083398101604081905261002f91610044565b60601b6001600160601b031916608052610072565b600060208284031215610055578081fd5b81516001600160a01b038116811461006b578182fd5b9392505050565b60805160601c6116dc610154600039600081816101a0015281816102300152818161030c015281816103a201528181610491015281816104cf01528181610619015281816106ae0152818161078a015281816107c8015281816108a401528181610937015281816109d701528181610a1401528181610ab201528181610b7001528181610b9701528181610c3901528181610c7701528181610d8701528181610e2901528181610ecb01528181610fe70152818161107b015281816110bb015281816111d701528181611277015281816112b4015261135201526116dc6000f3fe608060405234801561001057600080fd5b50600436106100a35760003560e01c806381bbc54e11610076578063a4800a751161005b578063a4800a7514610130578063c560ce9a14610145578063cea55f5714610158576100a3565b806381bbc54e1461010a57806396639b031461011d576100a3565b80630d0a08bf146100a85780631d665951146100d157806349f3bb96146100e457806358841e23146100f7575b600080fd5b6100bb6100b63660046114c8565b610160565b6040516100c89190611621565b60405180910390f35b6100bb6100df3660046114e0565b61022b565b6100bb6100f2366004611491565b61039d565b6100bb6101053660046114e0565b6106a9565b6100bb6101183660046114c8565b6107c3565b6100bb61012b366004611477565b610932565b610138610b6e565b6040516100c89190611596565b6100bb610153366004611491565b610b92565b6100bb6111d2565b6040517f0d0a08bf00000000000000000000000000000000000000000000000000000000815260009073ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001690630d0a08bf906101d5908590600401611621565b60206040518083038186803b1580156101ed57600080fd5b505afa158015610201573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061022591906114b0565b92915050565b6000807f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663a3e6ba946040518163ffffffff1660e01b8152600401604080518083038186803b15801561029357600080fd5b505afa1580156102a7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102cb919061150b565b506040517f78ede70900000000000000000000000000000000000000000000000000000000815290915073ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016906378ede7099061034590849088908890600401611638565b60206040518083038186803b15801561035d57600080fd5b505afa158015610371573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061039591906114b0565b949350505050565b6000807f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663a3e6ba946040518163ffffffff1660e01b8152600401604080518083038186803b15801561040557600080fd5b505afa158015610419573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061043d919061150b565b50905060008084600181111561047c577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b1461048857600061048b565b60015b905060007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166385962e2c83857f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663f87623a16040518163ffffffff1660e01b815260040160206040518083038186803b15801561053357600080fd5b505afa158015610547573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061056b91906114b0565b6040518463ffffffff1660e01b8152600401610589939291906115d2565b60206040518083038186803b1580156105a157600080fd5b505afa1580156105b5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105d991906114b0565b6040517f8aacac5500000000000000000000000000000000000000000000000000000000815290915073ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001690638aacac559061065090889085906004016115b7565b60206040518083038186803b15801561066857600080fd5b505afa15801561067c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106a091906114b0565b95945050505050565b6000807f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663a3e6ba946040518163ffffffff1660e01b8152600401604080518083038186803b15801561071157600080fd5b505afa158015610725573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610749919061150b565b506040517fa8bfab2500000000000000000000000000000000000000000000000000000000815290915073ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000169063a8bfab259061034590849088908890600401611638565b6000807f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663a3e6ba946040518163ffffffff1660e01b8152600401604080518083038186803b15801561082b57600080fd5b505afa15801561083f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610863919061150b565b506040517f042ea07300000000000000000000000000000000000000000000000000000000815290915073ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000169063042ea073906108db908490879060040161162a565b60206040518083038186803b1580156108f357600080fd5b505afa158015610907573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061092b91906114b0565b9392505050565b6000807f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663a3e6ba946040518163ffffffff1660e01b8152600401604080518083038186803b15801561099a57600080fd5b505afa1580156109ae573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109d2919061150b565b5090507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166397ebd6a9827f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663f16673a46040518163ffffffff1660e01b815260040160206040518083038186803b158015610a7857600080fd5b505afa158015610a8c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ab091906114b0565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166318160ddd6040518163ffffffff1660e01b815260040160206040518083038186803b158015610b1657600080fd5b505afa158015610b2a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b4e91906114b0565b876040518563ffffffff1660e01b81526004016108db9493929190611666565b7f000000000000000000000000000000000000000000000000000000000000000081565b6000807f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663a3e6ba946040518163ffffffff1660e01b8152600401604080518083038186803b158015610bfa57600080fd5b505afa158015610c0e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c32919061150b565b50905060007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166385962e2c85847f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663f87623a16040518163ffffffff1660e01b815260040160206040518083038186803b158015610cdb57600080fd5b505afa158015610cef573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d1391906114b0565b6040518463ffffffff1660e01b8152600401610d31939291906115d2565b60206040518083038186803b158015610d4957600080fd5b505afa158015610d5d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d8191906114b0565b905060007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663f16673a46040518163ffffffff1660e01b815260040160206040518083038186803b158015610deb57600080fd5b505afa158015610dff573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e2391906114b0565b905060007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166318160ddd6040518163ffffffff1660e01b815260040160206040518083038186803b158015610e8d57600080fd5b505afa158015610ea1573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ec591906114b0565b905060007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663fedf096a6040518163ffffffff1660e01b815260040160206040518083038186803b158015610f2f57600080fd5b505afa158015610f43573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610f6791906114b0565b90506000876001811115610fa4577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b1415611079576040517f4ee1b72d00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001690634ee1b72d9061102490859087908a9087904290600401611683565b60606040518083038186803b15801561103c57600080fd5b505afa158015611050573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611074919061152e565b509250505b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16639f45dee0888686867f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16633ea5b3956040518163ffffffff1660e01b815260040160206040518083038186803b15801561111f57600080fd5b505afa158015611133573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061115791906114b0565b6040518663ffffffff1660e01b81526004016111779594939291906115f1565b60206040518083038186803b15801561118f57600080fd5b505afa1580156111a3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906111c791906114b0565b979650505050505050565b6000807f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663a3e6ba946040518163ffffffff1660e01b8152600401604080518083038186803b15801561123a57600080fd5b505afa15801561124e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611272919061150b565b5090507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16639e5111f0827f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663f16673a46040518163ffffffff1660e01b815260040160206040518083038186803b15801561131857600080fd5b505afa15801561132c573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061135091906114b0565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166318160ddd6040518163ffffffff1660e01b815260040160206040518083038186803b1580156113b657600080fd5b505afa1580156113ca573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906113ee91906114b0565b6040518463ffffffff1660e01b815260040161140c93929190611650565b60206040518083038186803b15801561142457600080fd5b505afa158015611438573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061145c91906114b0565b91505090565b8035801515811461147257600080fd5b919050565b600060208284031215611488578081fd5b61092b82611462565b6000602082840312156114a2578081fd5b81356002811061092b578182fd5b6000602082840312156114c1578081fd5b5051919050565b6000602082840312156114d9578081fd5b5035919050565b600080604083850312156114f2578081fd5b8235915061150260208401611462565b90509250929050565b6000806040838503121561151d578182fd5b505080516020909101519092909150565b600080600060608486031215611542578081fd5b8351925060208401519150604084015190509250925092565b60028110611592577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b9052565b73ffffffffffffffffffffffffffffffffffffffff91909116815260200190565b604081016115c5828561155b565b8260208301529392505050565b606081016115e0828661155b565b602082019390935260400152919050565b60a081016115ff828861155b565b8560208301528460408301528360608301528260808301529695505050505050565b90815260200190565b918252602082015260400190565b92835260208301919091521515604082015260600190565b9283526020830191909152604082015260600190565b938452602084019290925260408301521515606082015260800190565b948552602085019390935260408401919091526060830152608082015260a0019056fea2646970667358221220041a4832c7049b50d85e1d1ca41a93b22b162dc5449ea61245aefb712b4897c564736f6c63430008000033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100a35760003560e01c806381bbc54e11610076578063a4800a751161005b578063a4800a7514610130578063c560ce9a14610145578063cea55f5714610158576100a3565b806381bbc54e1461010a57806396639b031461011d576100a3565b80630d0a08bf146100a85780631d665951146100d157806349f3bb96146100e457806358841e23146100f7575b600080fd5b6100bb6100b63660046114c8565b610160565b6040516100c89190611621565b60405180910390f35b6100bb6100df3660046114e0565b61022b565b6100bb6100f2366004611491565b61039d565b6100bb6101053660046114e0565b6106a9565b6100bb6101183660046114c8565b6107c3565b6100bb61012b366004611477565b610932565b610138610b6e565b6040516100c89190611596565b6100bb610153366004611491565b610b92565b6100bb6111d2565b6040517f0d0a08bf00000000000000000000000000000000000000000000000000000000815260009073ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001690630d0a08bf906101d5908590600401611621565b60206040518083038186803b1580156101ed57600080fd5b505afa158015610201573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061022591906114b0565b92915050565b6000807f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663a3e6ba946040518163ffffffff1660e01b8152600401604080518083038186803b15801561029357600080fd5b505afa1580156102a7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102cb919061150b565b506040517f78ede70900000000000000000000000000000000000000000000000000000000815290915073ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016906378ede7099061034590849088908890600401611638565b60206040518083038186803b15801561035d57600080fd5b505afa158015610371573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061039591906114b0565b949350505050565b6000807f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663a3e6ba946040518163ffffffff1660e01b8152600401604080518083038186803b15801561040557600080fd5b505afa158015610419573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061043d919061150b565b50905060008084600181111561047c577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b1461048857600061048b565b60015b905060007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166385962e2c83857f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663f87623a16040518163ffffffff1660e01b815260040160206040518083038186803b15801561053357600080fd5b505afa158015610547573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061056b91906114b0565b6040518463ffffffff1660e01b8152600401610589939291906115d2565b60206040518083038186803b1580156105a157600080fd5b505afa1580156105b5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105d991906114b0565b6040517f8aacac5500000000000000000000000000000000000000000000000000000000815290915073ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001690638aacac559061065090889085906004016115b7565b60206040518083038186803b15801561066857600080fd5b505afa15801561067c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106a091906114b0565b95945050505050565b6000807f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663a3e6ba946040518163ffffffff1660e01b8152600401604080518083038186803b15801561071157600080fd5b505afa158015610725573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610749919061150b565b506040517fa8bfab2500000000000000000000000000000000000000000000000000000000815290915073ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000169063a8bfab259061034590849088908890600401611638565b6000807f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663a3e6ba946040518163ffffffff1660e01b8152600401604080518083038186803b15801561082b57600080fd5b505afa15801561083f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610863919061150b565b506040517f042ea07300000000000000000000000000000000000000000000000000000000815290915073ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000169063042ea073906108db908490879060040161162a565b60206040518083038186803b1580156108f357600080fd5b505afa158015610907573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061092b91906114b0565b9392505050565b6000807f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663a3e6ba946040518163ffffffff1660e01b8152600401604080518083038186803b15801561099a57600080fd5b505afa1580156109ae573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109d2919061150b565b5090507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166397ebd6a9827f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663f16673a46040518163ffffffff1660e01b815260040160206040518083038186803b158015610a7857600080fd5b505afa158015610a8c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ab091906114b0565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166318160ddd6040518163ffffffff1660e01b815260040160206040518083038186803b158015610b1657600080fd5b505afa158015610b2a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b4e91906114b0565b876040518563ffffffff1660e01b81526004016108db9493929190611666565b7f000000000000000000000000000000000000000000000000000000000000000081565b6000807f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663a3e6ba946040518163ffffffff1660e01b8152600401604080518083038186803b158015610bfa57600080fd5b505afa158015610c0e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c32919061150b565b50905060007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166385962e2c85847f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663f87623a16040518163ffffffff1660e01b815260040160206040518083038186803b158015610cdb57600080fd5b505afa158015610cef573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d1391906114b0565b6040518463ffffffff1660e01b8152600401610d31939291906115d2565b60206040518083038186803b158015610d4957600080fd5b505afa158015610d5d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d8191906114b0565b905060007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663f16673a46040518163ffffffff1660e01b815260040160206040518083038186803b158015610deb57600080fd5b505afa158015610dff573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e2391906114b0565b905060007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166318160ddd6040518163ffffffff1660e01b815260040160206040518083038186803b158015610e8d57600080fd5b505afa158015610ea1573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ec591906114b0565b905060007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663fedf096a6040518163ffffffff1660e01b815260040160206040518083038186803b158015610f2f57600080fd5b505afa158015610f43573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610f6791906114b0565b90506000876001811115610fa4577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b1415611079576040517f4ee1b72d00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001690634ee1b72d9061102490859087908a9087904290600401611683565b60606040518083038186803b15801561103c57600080fd5b505afa158015611050573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611074919061152e565b509250505b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16639f45dee0888686867f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16633ea5b3956040518163ffffffff1660e01b815260040160206040518083038186803b15801561111f57600080fd5b505afa158015611133573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061115791906114b0565b6040518663ffffffff1660e01b81526004016111779594939291906115f1565b60206040518083038186803b15801561118f57600080fd5b505afa1580156111a3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906111c791906114b0565b979650505050505050565b6000807f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663a3e6ba946040518163ffffffff1660e01b8152600401604080518083038186803b15801561123a57600080fd5b505afa15801561124e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611272919061150b565b5090507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16639e5111f0827f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663f16673a46040518163ffffffff1660e01b815260040160206040518083038186803b15801561131857600080fd5b505afa15801561132c573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061135091906114b0565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166318160ddd6040518163ffffffff1660e01b815260040160206040518083038186803b1580156113b657600080fd5b505afa1580156113ca573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906113ee91906114b0565b6040518463ffffffff1660e01b815260040161140c93929190611650565b60206040518083038186803b15801561142457600080fd5b505afa158015611438573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061145c91906114b0565b91505090565b8035801515811461147257600080fd5b919050565b600060208284031215611488578081fd5b61092b82611462565b6000602082840312156114a2578081fd5b81356002811061092b578182fd5b6000602082840312156114c1578081fd5b5051919050565b6000602082840312156114d9578081fd5b5035919050565b600080604083850312156114f2578081fd5b8235915061150260208401611462565b90509250929050565b6000806040838503121561151d578182fd5b505080516020909101519092909150565b600080600060608486031215611542578081fd5b8351925060208401519150604084015190509250925092565b60028110611592577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b9052565b73ffffffffffffffffffffffffffffffffffffffff91909116815260200190565b604081016115c5828561155b565b8260208301529392505050565b606081016115e0828661155b565b602082019390935260400152919050565b60a081016115ff828861155b565b8560208301528460408301528360608301528260808301529695505050505050565b90815260200190565b918252602082015260400190565b92835260208301919091521515604082015260600190565b9283526020830191909152604082015260600190565b938452602084019290925260408301521515606082015260800190565b948552602085019390935260408401919091526060830152608082015260a0019056fea2646970667358221220041a4832c7049b50d85e1d1ca41a93b22b162dc5449ea61245aefb712b4897c564736f6c63430008000033",
  "devdoc": {
    "author": "Alberto Cuesta Caada, Jacob Eliosoff, Alex Roan",
    "kind": "dev",
    "methods": {
      "debtRatio()": {
        "returns": {
          "ratio": "Debt ratio"
        }
      },
      "ethBuffer(bool)": {
        "returns": {
          "buffer": "ETH buffer"
        }
      },
      "ethToFum(uint256)": {
        "params": {
          "ethAmount": "The amount of ETH to convert"
        },
        "returns": {
          "fumOut": "The amount of FUM"
        }
      },
      "ethToUsm(uint256,bool)": {
        "params": {
          "ethAmount": "The amount of ETH to convert"
        },
        "returns": {
          "usmOut": "The amount of USM"
        }
      },
      "fumPrice(uint8)": {
        "returns": {
          "price": "FUM price in ETH terms"
        }
      },
      "fumToEth(uint256)": {
        "params": {
          "fumAmount": "The amount of USM to convert"
        },
        "returns": {
          "ethOut": "The amount of ETH"
        }
      },
      "usmPrice(uint8)": {
        "returns": {
          "price": "USM price in ETH terms"
        }
      },
      "usmToEth(uint256,bool)": {
        "params": {
          "usmAmount": "The amount of USM to convert"
        },
        "returns": {
          "ethOut": "The amount of ETH"
        }
      }
    },
    "title": "USM view-only proxy",
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "debtRatio()": {
        "notice": "Calculate debt ratio."
      },
      "ethBuffer(bool)": {
        "notice": "Calculate the amount of ETH in the buffer."
      },
      "ethToFum(uint256)": {
        "notice": "Convert ETH amount to FUM using the latest oracle ETH/USD price."
      },
      "ethToUsm(uint256,bool)": {
        "notice": "Convert ETH amount to USM using the latest oracle ETH/USD price."
      },
      "fumPrice(uint8)": {
        "notice": "Calculate the *marginal* price of FUM (in ETH terms) - that is, of the next unit, before price start sliding."
      },
      "fumToEth(uint256)": {
        "notice": "Convert USM amount to ETH using the latest oracle ETH/USD price."
      },
      "usmPrice(uint8)": {
        "notice": "Calculate the *marginal* price of USM (in ETH terms) - that is, of the next unit, before price start sliding."
      },
      "usmToEth(uint256,bool)": {
        "notice": "Convert USM amount to ETH using the latest oracle ETH/USD price."
      }
    },
    "version": 1
  },
  "storageLayout": {
    "storage": [],
    "types": null
  }
}