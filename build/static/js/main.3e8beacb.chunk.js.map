{"version":3,"sources":["tokens.js","oracles.js","redux/actions.js","redux/interactions/cdp.js","redux/interactions/erc20.js","redux/interactions/oracles.js","redux/interactions.js","redux/selectors.js","utils.js","HealthCard.js","OracleCard.js","USMCard.js","FUMCard.js","App.js","redux/reducers.js","redux/configure.js","serviceWorker.js","index.js"],"names":["USMABI","require","abi","USMViewABI","FUMABI","DiaOracleABI","usm","name","address","42","usmview","diaOracle","fum","coingecko","coingeckoETH","coingeckoSYNTH","cachedInContract","latestFromContract","rawSYNTH","rawETH","setInputAmount","token","amount","type","metamaskLoaded","metamask","signer","metamaskError","error","networkLoaded","provider","fumLoaded","setLatestOraclePrice","source","price","setCollateral","collateral","setEthBuffer","ethBuffer","setUSMPrice","buyPrice","sellPrice","setFUMPrice","setTotalSupply","tokenName","supply","setMints","mints","setBurns","burns","loadCollateralData","dispatch","usmViewContract","usmContract","a","getCollateral","getDebtRatio","getEthBuffer","getUSMPrice","getFUMPrice","ethPool","formattedCollateral","ethers","utils","formatEther","debtRatio","ratio","formattedRatio","formattedBuffer","usmPrice","formattedBuyPrice","formattedSellPrice","fumPrice","loadERC20Data","tokenContract","getTotalSupply","getTotalMints","getTotalBurns","erc20Contract","totalSupply","formattedSupply","mintFilter","filters","Transfer","constants","AddressZero","queryFilter","length","burnFilter","loadOracleData","rawOracle","getCoingeckoETHPrice","ethprice","getCoingeckoSYNTHPrice","synthprice","getPricesFromUSMContract","getPricesFromRawOracle","axios","get","then","response","data","ethereum","usd","catch","console","log","latestPrice","cachedPrice","latestOraclePrice","rawOracleContract","getValue","rawEth","toNumber","rawSynth","getNetwork","chainId","loadNetwork","providers","JsonRpcProvider","loadUSM","loadRawOracle","loadUSMView","loadFUM","network","Contract","usmView","fumContract","loadMetamask","window","enable","Web3Provider","getSigner","Error","usmAbi","usmAddress","fumAbi","fumAddress","buyUSM","weiAmount","parseEther","getAddress","mint","value","sellUSM","burn","buyFUM","fund","sellFUM","defund","networkProviderSelector","createSelector","state","w","metamaskSelector","metamaskSignerSelector","metamaskErrorSelector","metamaskUSMSelector","usmInputAmountSelector","fumInputAmountSelector","usmSupplySelector","usmMintsSelector","usmBurnsSelector","usmCollateralSelector","usmDebtRatioSelector","usmEthBufferSelector","usmBuyPriceSelector","usmSellPriceSelector","fumSupplySelector","fumMintsSelector","fumBurnsSelector","fumBuyPriceSelector","fumSellPriceSelector","coingeckoPriceSelector","coingeckoETHPriceSelector","coingeckoSYNTHPriceSelector","cachedPriceSelector","latestPriceSelector","rawETHPriceSelector","rawSYNTHPriceSelector","colours","colorisor","actualNumber","ranges","usmPriceHighlight","referencePrice","difference","Math","abs","Number","parseFloat","oracleHighlight","actualPrice","decimalPlaces","numberString","decimals","toFixed","toLocaleString","undefined","minimumFractionDigits","maximumFractionDigits","toPercentage","decimalString","num","toString","stringMul","b","HealthCard","this","props","usmCollateral","usmCollateralUSD","usmDebtRatio","usmEthBuffer","usmEthBufferUSD","Card","Header","as","Body","Table","striped","hover","size","className","style","backgroundColor","Component","connect","coingeckoETHPrice","OracleCard","coingeckoSYNTHPrice","coingeckoPrice","rawETHPrice","rawSYNTHPrice","colSpan","printButtons","metamaskConnected","buy","sell","inputChange","Button","onClick","variant","width","onChange","placeholder","USMCard","usmSupply","usmMints","usmBurns","usmMarketCap","usmMarketCapUSD","usmBuyPrice","usmBuyPriceUSD","usmSellPrice","usmSellPriceUSD","metamaskSigner","metamaskUSM","inputAmount","e","target","FUMCard","fumMarketCap","fumMarketCapUSD","fumSupply","fumMints","fumBurns","fumBuyPrice","fumBuyPriceUSD","fumSellPrice","fumSellPriceUSD","App","networkProvider","alert","Container","Alert","Row","Col","sm","md","rootReducer","combineReducers","app","action","metamaskFUM","usmInputAmount","fumInputAmount","oracle","rawEthPrice","rawSynthPrice","loggerMiddleware","createLogger","middleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","preLoadedState","Boolean","location","hostname","match","ReactDOM","render","store","createStore","applyMiddleware","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.3e8beacb.chunk.js","sourcesContent":["const { abi: USMABI } = require(\"./external/abi/USM.json\");\nconst { abi: USMViewABI } = require(\"./external/abi/USMView.json\");\nconst { abi: FUMABI } = require(\"./external/abi/FUM.json\");\nconst { abi: OracleABI } = require(\"./external/abi/Oracle.json\");\nconst { abi: DiaOracleABI } = require(\"./external/abi/DiaOracle.json\");\n\nexport const usm = {\n  name: \"usm\",\n  abi: USMABI,\n  address: {\n    42: \"0xa9bBf88eccFBB2be0dca7DeDee9D68C38DFAbE75\",\n  },\n};\n\nexport const usmview = {\n  name: \"USMView\",\n  abi: USMViewABI,\n  address: {\n    42: \"0x4D90474F581B0411Ad213eC0ec09166d4FcdfD78\",\n  },\n};\n\nexport const oracle = {\n  name: \"oracle\",\n  abi: OracleABI,\n  address: {\n    42: \"0x2Eba759603729b61Fb57B14F9C9f2e678c09C00c\",\n  },\n};\n\nexport const diaOracle = {\n  name: \"diaOracle\",\n  abi: DiaOracleABI,\n  address: {\n    42: \"0x637c1b5d57b5b0d40b1868b8cc2034525f5f61cf\",\n  },\n};\n\nexport const fum = {\n  name: \"fum\",\n  abi: FUMABI,\n  address: {\n    42: \"0xF48D8c02202A2D159B0Dd156d7E2E4559C038633\",\n  },\n};\n","export const coingecko = \"coingecko\"\nexport const coingeckoETH = \"coingeckoETH\"\nexport const coingeckoSYNTH = \"coingeckoSYNTH\"\nexport const cachedInContract = \"cachedInContract\"\nexport const latestFromContract = \"latestFromContract\"\nexport const rawSYNTH = \"rawSYNTH\"\nexport const rawETH = \"rawETH\"\n","import { rawETH, rawSYNTH, coingecko, coingeckoETH, cachedInContract, coingeckoSYNTH, latestFromContract } from \"../oracles\";\nimport { fum, usm } from \"../tokens\";\n\nexport function setInputAmount(token, amount) {\n  switch (token) {\n    case usm.name:\n      return {\n        type: 'SET_USM_INPUT_AMOUNT',\n        amount\n      }\n    case fum.name:\n      return {\n        type: 'SET_FUM_INPUT_AMOUNT',\n        amount\n      }\n    default:\n      break;\n  }\n  \n}\n\nexport function metamaskLoaded(metamask, signer, usm, fum) {\n  return {\n    type: 'METAMASK_LOADED',\n    metamask,\n    signer,\n    usm,\n    fum\n  }\n}\n\nexport function metamaskError(error) {\n  return {\n    type: 'METAMASK_ERROR',\n    error\n  }\n}\n\nexport function clearMetamaskError() {\n  return {\n    type: 'CLEAR_METAMASK_ERROR'\n  }\n}\n\nexport function networkLoaded(provider){\n  return {\n    type: 'NETWORK_LOADED',\n    provider\n  }\n}\n\nexport function usmLoaded(usm) {\n  return {\n    type: 'USM_LOADED',\n    usm\n  }\n}\n\nexport function rawOracleLoaded(rawOracle) {\n  return {\n    type: 'RAW_ORACLE_LOADED',\n    rawOracle\n  }\n}\n\nexport function usmViewLoaded(usmView) {\n  return {\n    type: 'USMVIEW_LOADED',\n    usmView\n  }\n}\n\nexport function fumLoaded(fum) {\n  return {\n    type: 'FUM_LOADED',\n    fum\n  }\n}\n\nexport function setLatestOraclePrice(source, price) {\n  switch (source) {\n    case coingecko:\n      return {\n        type: 'ORACLE_PRICE_COINGECKO',\n        price\n      }\n    case coingeckoETH:\n      return {\n        type: 'ORACLE_PRICE_ETH_COINGECKO',\n        price\n      }\n    case coingeckoSYNTH:\n      return {\n        type: 'ORACLE_PRICE_SYNTH_COINGECKO',\n        price\n      }\n    case cachedInContract:\n      return {\n        type: 'ORACLE_PRICE_CACHED',\n        price\n      }\n    case latestFromContract:\n      return {\n        type: 'ORACLE_PRICE_LATEST',\n        price\n      }\n    case rawETH:\n      return {\n        type: 'ORACLE_PRICE_RAW_ETH',\n        price\n      }\n    case rawSYNTH:\n      return {\n        type: 'ORACLE_PRICE_RAW_SYNTH',\n        price\n      }\n    default:\n      break;\n  }\n}\n\nexport function setCollateral(collateral) {\n  return {\n    type: 'USM_COLLATERAL',\n    collateral\n  }\n}\n\nexport function setDebtRatio(debtRatio) {\n  return {\n    type: 'USM_DEBT_RATIO',\n    debtRatio\n  }\n}\n\nexport function setEthBuffer(ethBuffer) {\n  return {\n    type: 'USM_ETH_BUFFER',\n    ethBuffer\n  }\n}\n\nexport function setUSMPrice(buyPrice, sellPrice) {\n  return {\n    type: 'USM_PRICE',\n    buyPrice,\n    sellPrice\n  }\n}\n\nexport function setFUMPrice(buyPrice, sellPrice) {\n  return {\n    type: 'FUM_PRICE',\n    buyPrice,\n    sellPrice\n  }\n}\n\nexport function setTotalSupply(tokenName, supply) {\n  switch (tokenName) {\n    case usm.name:\n      return {\n        type: 'USM_TOTAL_SUPPLY',\n        supply\n      }\n    case fum.name:\n      return {\n        type: 'FUM_TOTAL_SUPPLY',\n        supply\n      }\n    default:\n      break;\n  }\n}\n\nexport function setMints(tokenName, mints) {\n  switch (tokenName) {\n    case usm.name:\n      return {\n        type: 'USM_MINTS',\n        mints\n      }\n    case fum.name:\n      return {\n        type: 'FUM_MINTS',\n        mints\n      }\n    default:\n      break;\n  }\n}\n\nexport function setBurns(tokenName, burns) {\n  switch (tokenName) {\n    case usm.name:\n      return {\n        type: 'USM_BURNS',\n        burns\n      }\n    case fum.name:\n      return {\n        type: 'FUM_BURNS',\n        burns\n      }\n    default:\n      break;\n  }\n}\n","import { ethers } from \"ethers\"\nimport { setCollateral, setDebtRatio, setEthBuffer, setFUMPrice, setUSMPrice } from \"../actions\"\n\nexport const loadCollateralData = async (dispatch, usmViewContract, usmContract) => {\n  getCollateral(dispatch, usmContract)\n  getDebtRatio(dispatch, usmViewContract)\n  getEthBuffer(dispatch, usmViewContract)\n  getUSMPrice(dispatch, usmViewContract)\n  getFUMPrice(dispatch, usmViewContract)\n}\n\nexport const getCollateral = async (dispatch, usmContract) => {\n  const collateral = await usmContract.ethPool()\n  const formattedCollateral = ethers.utils.formatEther(collateral)\n  dispatch(setCollateral(formattedCollateral))\n}\n\nexport const getDebtRatio = async (dispatch, usmViewContract) => {\n  const ratio = await usmViewContract.debtRatio()\n  const formattedRatio = ethers.utils.formatEther(ratio)\n  dispatch(setDebtRatio(formattedRatio))\n}\n\nexport const getEthBuffer = async (dispatch, usmViewContract) => {\n  const ethBuffer = await usmViewContract.ethBuffer(0)\n  const formattedBuffer = ethers.utils.formatEther(ethBuffer)\n  dispatch(setEthBuffer(formattedBuffer))\n}\n\nexport const getUSMPrice = async (dispatch, usmViewContract) => {\n  const buyPrice = await usmViewContract.usmPrice(0)\n  const formattedBuyPrice = ethers.utils.formatEther(buyPrice)\n  const sellPrice = await usmViewContract.usmPrice(1)\n  const formattedSellPrice = ethers.utils.formatEther(sellPrice)\n  dispatch(setUSMPrice(formattedBuyPrice, formattedSellPrice))\n}\n\nexport const getFUMPrice = async (dispatch, usmViewContract) => {\n  const buyPrice = await usmViewContract.fumPrice(0)\n  const formattedBuyPrice = ethers.utils.formatEther(buyPrice)\n  const sellPrice = await usmViewContract.fumPrice(1)\n  const formattedSellPrice = ethers.utils.formatEther(sellPrice)\n  dispatch(setFUMPrice(formattedBuyPrice, formattedSellPrice))\n}\n","import { ethers } from \"ethers\"\nimport { setBurns, setMints, setTotalSupply } from \"../actions\"\n\nexport const loadERC20Data = async (dispatch, token, tokenContract) => {\n  getTotalSupply(dispatch, token, tokenContract)\n  getTotalMints(dispatch, token, tokenContract)\n  getTotalBurns(dispatch, token, tokenContract)\n}\n\nexport const getTotalSupply = async (dispatch, token, erc20Contract) => {\n  const supply = await erc20Contract.totalSupply()\n  const formattedSupply = ethers.utils.formatEther(supply)\n  dispatch(setTotalSupply(token.name, formattedSupply))\n}\n\nexport const getTotalMints = async (dispatch, token, erc20Contract) => {\n  const mintFilter = erc20Contract.filters.Transfer(ethers.constants.AddressZero, null)\n  const mints = await erc20Contract.queryFilter(mintFilter, 0)\n  dispatch(setMints(token.name, mints.length))\n}\n\nexport const getTotalBurns = async (dispatch, token, erc20Contract) => {\n  const burnFilter = erc20Contract.filters.Transfer(null, ethers.constants.AddressZero)\n  const burns = await erc20Contract.queryFilter(burnFilter, 0)\n  dispatch(setBurns(token.name, burns.length))\n}\n","import { ethers } from \"ethers\"\nimport { coingecko, coingeckoETH, coingeckoSYNTH, cachedInContract, latestFromContract, rawETH, rawSYNTH } from \"../../oracles\"\nimport { setLatestOraclePrice } from \"../actions\"\nimport axios from 'axios'\n\nexport const loadOracleData = async (dispatch, usmContract, rawOracle) => {\n  const ethprice = await getCoingeckoETHPrice(dispatch)\n  const synthprice = await getCoingeckoSYNTHPrice(dispatch)\n  dispatch(setLatestOraclePrice(coingecko, ethprice/synthprice))\n  getPricesFromUSMContract(dispatch, usmContract)\n  getPricesFromRawOracle(dispatch, rawOracle)\n}\n\nconst getCoingeckoETHPrice = (dispatch) => axios.get('https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd')\n  .then(function (response) {\n    const price = response.data.ethereum.usd\n    dispatch(setLatestOraclePrice(coingeckoETH, price))\n    return price\n  })\n  .catch(function (error) {\n    console.log(error);\n  })\n\n\nconst getCoingeckoSYNTHPrice = (dispatch) => axios.get('https://api.coingecko.com/api/v3/simple/price?ids=spice-finance&vs_currencies=usd')\n  .then(function (response) {\n    const price = response.data[\"spice-finance\"].usd\n    console.log(response.data)\n    console.log(price)\n    dispatch(setLatestOraclePrice(coingeckoSYNTH, price))\n    return price\n  })\n  .catch(function (error) {\n    console.log(error);\n  })\n\nconst getPricesFromUSMContract = async (dispatch, usmContract) => {\n  // TODO: show latest price update time, perhaps?\n  const cachedPrice = (await usmContract.latestPrice())[0]\n  const latestPrice = (await usmContract.latestOraclePrice())[0]\n  dispatch(setLatestOraclePrice(cachedInContract, ethers.utils.formatEther(cachedPrice)))\n  dispatch(setLatestOraclePrice(latestFromContract, ethers.utils.formatEther(latestPrice)))\n}\n\nconst getPricesFromRawOracle = async (dispatch, rawOracleContract) => {\n  const rawEth = (await rawOracleContract.getValue('ETH'))[0].toNumber()\n  const rawSynth = (await rawOracleContract.getValue('SPICE'))[0].toNumber()\n  dispatch(setLatestOraclePrice(rawETH, rawEth/(10**5)))\n  dispatch(setLatestOraclePrice(rawSYNTH, rawSynth/(10**5)))\n}\n","import { ethers } from \"ethers\"\nimport { fum, usm, usmview, diaOracle } from \"../tokens\"\nimport { fumLoaded, metamaskError, metamaskLoaded, networkLoaded, usmLoaded, usmViewLoaded, rawOracleLoaded } from \"./actions\"\nimport { loadCollateralData } from \"./interactions/cdp\"\nimport { loadERC20Data } from \"./interactions/erc20\"\nimport { loadOracleData } from \"./interactions/oracles\"\n\nconst getNetwork = async() => ({chainId: '42'})\n\nexport const loadNetwork = async (dispatch) => {\n  const provider = new ethers.providers.JsonRpcProvider(\"https://kovan.infura.io/v3/1be1f8b7b85a47e4949bc1057660a81d\")\n  dispatch(networkLoaded(provider))\n  const usmContract = await loadUSM(dispatch, provider)\n  const rawOracleContract = await loadRawOracle(dispatch, provider)\n  loadOracleData(dispatch, usmContract, rawOracleContract)\n  loadUSMView(dispatch, provider, usmContract)\n  loadFUM(dispatch, provider)\n}\n\nexport const loadRawOracle = async (dispatch, provider) => {\n  const network = await getNetwork()\n  const abi = diaOracle.abi\n  const address = diaOracle.address[network.chainId]\n  const rawOracleContract = new ethers.Contract(address, abi, provider)\n  dispatch(rawOracleLoaded(rawOracleContract))\n  return rawOracleContract\n}\n\nexport const loadUSM = async (dispatch, provider) => {\n  const network = await getNetwork()\n  const abi = usm.abi\n  const address = usm.address[network.chainId]\n  const usmContract = new ethers.Contract(address, abi, provider)\n  dispatch(usmLoaded(usmContract))\n  loadERC20Data(dispatch, usm, usmContract)\n  return usmContract\n}\n\nexport const loadUSMView = async (dispatch, provider, usmContract) => {\n  const network = await getNetwork()\n  const abi = usmview.abi\n  const address = usmview.address[network.chainId]\n  const usmViewContract = new ethers.Contract(address, abi, provider)\n  dispatch(usmViewLoaded(usmViewContract))\n  loadCollateralData(dispatch, usmViewContract, usmContract)\n}\n\nexport const loadFUM = async (dispatch, provider) => {\n  const network = await getNetwork()\n  const abi = fum.abi\n  const address = fum.address[network.chainId]\n  const fumContract = new ethers.Contract(address, abi, provider)\n  dispatch(fumLoaded(fumContract))\n  loadERC20Data(dispatch, fum, fumContract)\n}\n\nexport const loadMetamask = async (dispatch) => {\n  try {\n    await window.ethereum.enable()\n    const provider = await new ethers.providers.Web3Provider(window.ethereum)\n    const signer = await provider.getSigner()\n    const network = await getNetwork()\n\n    if (network.chainId != 42) {\n      throw new Error(\"Must be on kovan. Please alter Metamask network and refresh the page.\")\n    }\n\n    //load USM with Metamask\n    const usmAbi = usm.abi\n    const usmAddress = usm.address[network.chainId]\n    const usmContract = new ethers.Contract(usmAddress, usmAbi, signer)\n    //load FUM with Metamask\n    const fumAbi = fum.abi\n    const fumAddress = fum.address[network.chainId]\n    const fumContract = new ethers.Contract(fumAddress, fumAbi, signer)\n    dispatch(metamaskLoaded(provider, signer, usmContract, fumContract))\n  }\n  catch (e) {\n    dispatch(metamaskError(e))\n    return (false, false)\n  }\n}\n\nexport const buyUSM = async (dispatch, usm, signer, amount) => {\n  const weiAmount = ethers.utils.parseEther(amount)\n  const address = await signer.getAddress()\n  usm.mint(address, 0, {value: weiAmount})\n    .then(() => console.log(\"minting USM\"))\n    .catch((error) => dispatch(metamaskError(error)))\n}\n\nexport const sellUSM = async (dispatch, usm, signer, amount) => {\n  const weiAmount = ethers.utils.parseEther(amount)\n  const address = await signer.getAddress()\n  usm.burn(address, address, weiAmount, 0)\n    .then(() => console.log(\"burning USM\"))\n    .catch((error) => dispatch(metamaskError(error)))\n}\n\nexport const buyFUM = async (dispatch, usm, signer, amount) => {\n  console.log(usm, signer, amount)\n  const weiAmount = ethers.utils.parseEther(amount)\n  const address = await signer.getAddress()\n  usm.fund(address, 0, {value: weiAmount})\n    .then(() => console.log(\"minting FUM\"))\n    .catch((error) => dispatch(metamaskError(error)))\n}\n\nexport const sellFUM = async (dispatch, usm, signer, amount) => {\n  const weiAmount = ethers.utils.parseEther(amount)\n  const address = await signer.getAddress()\n  usm.defund(address, address, weiAmount, 0)\n    .then(() => console.log(\"burning FUM\"))\n    .catch((error) => dispatch(metamaskError(error)))\n}\n","import {get} from 'lodash';\nimport {createSelector} from 'reselect';\n\n//APP\nconst networkProvider = state => get(state, 'app.provider', null);\nexport const networkProviderSelector = createSelector(networkProvider, w => w);\n\nconst usmContract = state => get(state, 'app.usm', null);\nexport const usmContractSelector = createSelector(usmContract, w => w);\n\nconst metamask = state => get(state, 'app.metamask', null);\nexport const metamaskSelector = createSelector(metamask, w => w);\n\nconst metamaskSigner = state => get(state, 'app.metamaskSigner', null);\nexport const metamaskSignerSelector = createSelector(metamaskSigner, w => w);\n\nconst metamaskError = state => get(state, 'app.metamaskError', null);\nexport const metamaskErrorSelector = createSelector(metamaskError, w => w);\n\nconst metamaskUSM = state => get(state, 'app.metamaskUSM', null);\nexport const metamaskUSMSelector = createSelector(metamaskUSM, w => w);\n\nconst metamaskFUM = state => get(state, 'app.metamaskFUM', null);\nexport const metamaskFUMSelector = createSelector(metamaskFUM, w => w);\n\nconst usmInputAmount = state => get(state, 'app.usmInputAmount', null);\nexport const usmInputAmountSelector = createSelector(usmInputAmount, w => w);\n\nconst fumInputAmount = state => get(state, 'app.fumInputAmount', null);\nexport const fumInputAmountSelector = createSelector(fumInputAmount, w => w);\n\n//USM\nconst usmSupply = state => get(state, 'usm.supply', 0);\nexport const usmSupplySelector = createSelector(usmSupply, w => w);\n\nconst usmMints = state => get(state, 'usm.mints', 0);\nexport const usmMintsSelector = createSelector(usmMints, w => w);\n\nconst usmBurns = state => get(state, 'usm.burns', 0);\nexport const usmBurnsSelector = createSelector(usmBurns, w => w);\n\nconst usmCollateral = state => get(state, 'usm.collateral', 0);\nexport const usmCollateralSelector = createSelector(usmCollateral, w => w);\n\nconst usmDebtRatio = state => get(state, 'usm.debtRatio', 0);\nexport const usmDebtRatioSelector = createSelector(usmDebtRatio, w => w);\n\nconst usmEthBuffer = state => get(state, 'usm.ethBuffer', 0);\nexport const usmEthBufferSelector = createSelector(usmEthBuffer, w => w);\n\nconst usmBuyPrice = state => get(state, 'usm.buyPrice', 0);\nexport const usmBuyPriceSelector = createSelector(usmBuyPrice, w => w);\n\nconst usmSellPrice = state => get(state, 'usm.sellPrice', 0);\nexport const usmSellPriceSelector = createSelector(usmSellPrice, w => w);\n\n//FUM\nconst fumSupply = state => get(state, 'fum.supply', 0);\nexport const fumSupplySelector = createSelector(fumSupply, w => w);\n\nconst fumMints = state => get(state, 'fum.mints', 0);\nexport const fumMintsSelector = createSelector(fumMints, w => w);\n\nconst fumBurns = state => get(state, 'fum.burns', 0);\nexport const fumBurnsSelector = createSelector(fumBurns, w => w);\n\nconst fumBuyPrice = state => get(state, 'fum.buyPrice', 0);\nexport const fumBuyPriceSelector = createSelector(fumBuyPrice, w => w);\n\nconst fumSellPrice = state => get(state, 'fum.sellPrice', 0);\nexport const fumSellPriceSelector = createSelector(fumSellPrice, w => w);\n\n//ORACLE\nconst coingeckoPrice = state => get(state, 'oracle.coingeckoPrice', 0);\nexport const coingeckoPriceSelector = createSelector(coingeckoPrice, w => w);\n\nconst coingeckoETHPrice = state => get(state, 'oracle.coingeckoETHPrice', 0);\nexport const coingeckoETHPriceSelector = createSelector(coingeckoETHPrice, w => w);\n\nconst coingeckoSYNTHPrice = state => get(state, 'oracle.coingeckoSYNTHPrice', 0);\nexport const coingeckoSYNTHPriceSelector = createSelector(coingeckoSYNTHPrice, w => w);\n\nconst cachedPrice = state => get(state, 'oracle.cachedPrice', 0);\nexport const cachedPriceSelector = createSelector(cachedPrice, w => w);\n\nconst latestPrice = state => get(state, 'oracle.latestPrice', 0);\nexport const latestPriceSelector = createSelector(latestPrice, w => w);\n\nconst rawETHPrice = state => get(state, 'oracle.rawEthPrice', 0);\nexport const rawETHPriceSelector = createSelector(rawETHPrice, w => w);\n\nconst rawSYNTHPrice = state => get(state, 'oracle.rawSynthPrice', 0);\nexport const rawSYNTHPriceSelector = createSelector(rawSYNTHPrice, w => w);\n","export const colours = [\n  '#00ff44',\n  '#aaff00',\n  '#fbff00',\n  '#ffe100',\n  '#ffc400',\n  '#ff9d00',\n  '#ff8400',\n  '#ff5900',\n  '#ff0000'\n]\n\nexport const colorisor = (actualNumber, ranges) => {\n  if (actualNumber <= ranges[0]) {\n    return colours[0]\n  }\n  else if (actualNumber > ranges[0] && actualNumber <= ranges[1]) {\n    return colours[1]\n  }\n  else if (actualNumber > ranges[1] && actualNumber <= ranges[2]) {\n    return colours[2]\n  }\n  else if (actualNumber > ranges[2] && actualNumber <= ranges[3]) {\n    return colours[3]\n  }\n  else if (actualNumber > ranges[3] && actualNumber <= ranges[4]) {\n    return colours[4]\n  }\n  else if (actualNumber > ranges[4] && actualNumber <= ranges[5]) {\n    return colours[5]\n  }\n  else if (actualNumber > ranges[5] && actualNumber <= ranges[6]) {\n    return colours[6]\n  }\n  else if (actualNumber > ranges[6] && actualNumber <= ranges[7]) {\n    return colours[7]\n  }\n  else if (actualNumber > ranges[7]) {\n    return colours[8]\n  }\n}\n\nexport const usmPriceHighlight = (price, referencePrice) => {\n  const difference = Math.abs(1 - referencePrice / Number.parseFloat(price))\n  const ranges = [.02, .04, .06, .09, .12, .18, .22, .27]\n  return colorisor(difference, ranges)\n}\n\nexport const debtRatioHighlight = (debtRatio) => {\n  const ranges = [.5, .6, .65, .7, .725, .75, .775, .8]\n  return colorisor(debtRatio, ranges)\n}\n\nexport const oracleHighlight = (referencePrice, actualPrice) => {\n  const difference = Math.abs(1 - Number.parseFloat(referencePrice) / Number.parseFloat(actualPrice))\n  const ranges = [.02, .04, .06, .08, .1, .14, .18, .25]\n  return colorisor(difference, ranges)\n}\n\nexport const decimalPlaces = (numberString, decimals = 2) => {\n  return Number(\n    Number.parseFloat(numberString).toFixed(decimals)\n  ).toLocaleString(undefined, {minimumFractionDigits: decimals, maximumFractionDigits: decimals})\n}\n\nexport const toPercentage = (decimalString) => {\n  const num = Number.parseFloat(decimalString) * 100\n  return decimalPlaces(num.toString())\n}\n\nexport const stringMul = (a, b) => {\n  return (Number.parseFloat(a) * Number.parseFloat(b))\n}\n","import { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { coingeckoETHPriceSelector, usmCollateralSelector, usmDebtRatioSelector, usmEthBufferSelector } from './redux/selectors';\nimport { Button, Card, Table } from 'react-bootstrap';\nimport { debtRatioHighlight, decimalPlaces, toPercentage } from './utils';\n\nclass HealthCard extends Component {\n  render () {\n\n    const {usmCollateral, usmCollateralUSD, usmDebtRatio, usmEthBuffer, usmEthBufferUSD} = this.props;\n\n    return (\n      <Card>\n        <Card.Header as=\"h5\">\n          Protocol Health\n        </Card.Header>\n        <Card.Body>\n          <Table striped hover size=\"sm\">\n            <tbody>\n              <tr>\n                <td>Total Collateral</td>\n                <td>Ξ {decimalPlaces(usmCollateral)}</td>\n                <td>$ {decimalPlaces(usmCollateralUSD)}</td>\n              </tr>\n              <tr>\n                <td>Buffer</td>\n                <td>Ξ {decimalPlaces(usmEthBuffer)}</td>\n                <td>$ {decimalPlaces(usmEthBufferUSD)}</td>\n              </tr>\n              <tr className=\"text-dark\" style={{backgroundColor: debtRatioHighlight(usmDebtRatio)}}>\n                <td>Debt Ratio</td>\n                <td></td>\n                <td>{toPercentage(usmDebtRatio)} %</td>\n              </tr>                  \n            </tbody>\n          </Table>\n        </Card.Body>\n      </Card>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  const coingeckoETHPrice = coingeckoETHPriceSelector(state)\n  const usmCollateral = usmCollateralSelector(state)\n  const usmCollateralUSD = usmCollateral * coingeckoETHPrice\n  const usmEthBuffer = usmEthBufferSelector(state)\n  const usmEthBufferUSD = usmEthBuffer * coingeckoETHPrice\n  return {\n    coingeckoETHPrice,\n    usmCollateral,\n    usmCollateralUSD,\n    usmEthBuffer,\n    usmEthBufferUSD,\n    usmDebtRatio: usmDebtRatioSelector(state),\n  }\n}\n\nexport default connect(mapStateToProps)(HealthCard);\n\n","import { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  cachedPriceSelector,\n  latestPriceSelector,\n  rawSYNTHPriceSelector,\n  rawETHPriceSelector,\n  coingeckoETHPriceSelector,\n  coingeckoSYNTHPriceSelector,\n  coingeckoPriceSelector,\n} from \"./redux/selectors\";\nimport { Card, Table } from \"react-bootstrap\";\nimport { decimalPlaces, oracleHighlight } from \"./utils\";\n\nclass OracleCard extends Component {\n  render() {\n    const {\n      coingeckoETHPrice,\n      coingeckoSYNTHPrice,\n      coingeckoPrice,\n      cachedPrice,\n      latestPrice,\n      rawETHPrice,\n      rawSYNTHPrice\n    } = this.props;\n\n    return (\n      <Card>\n        <Card.Header as=\"h5\">Oracle Performance</Card.Header>\n        <Card.Body>\n          <Table striped hover size=\"sm\">\n            <tbody>\n              <tr>\n                <th colSpan={2}>Off Chain Reference (not used)</th>\n              </tr>\n              <tr>\n                <td>Coingecko - ETH</td>\n                <td>$ {decimalPlaces(coingeckoETHPrice)}</td>\n              </tr>\n              <tr>\n                <td>Coingecko - SYNTH</td>\n                <td>$ {decimalPlaces(coingeckoSYNTHPrice)}</td>\n              </tr>\n              <tr>\n                <td>Coingecko - expected price from oracle</td>\n                <td>$ {decimalPlaces(coingeckoPrice)}</td>\n              </tr>\n              <tr>\n                <th colSpan={2}>USMFUM ETH Price</th>\n              </tr>\n              <tr\n                className=\"text-dark\"\n                style={{\n                  backgroundColor: oracleHighlight(coingeckoPrice, cachedPrice),\n                }}\n              >\n                <td>Price cached in the contract</td>\n                <td>$ {decimalPlaces(cachedPrice)}</td>\n              </tr>\n              <tr\n                className=\"text-dark\"\n                style={{\n                  backgroundColor: oracleHighlight(coingeckoPrice, latestPrice),\n                }}\n              >\n                <td>Price straight from the oracle</td>\n                <td>$ {decimalPlaces(latestPrice)}</td>\n              </tr>\n              <tr>\n                <th colSpan={2}>Raw prices from DIA oracle</th>\n              </tr>\n              <tr\n                className=\"text-dark\"\n                style={{\n                  backgroundColor: oracleHighlight(coingeckoETHPrice, rawETHPrice),\n                }}\n              >\n                <td>oracle ETH price</td>\n                <td>$ {decimalPlaces(rawETHPrice)}</td>\n              </tr>\n              <tr\n                className=\"text-dark\"\n                style={{\n                  backgroundColor: oracleHighlight(coingeckoSYNTHPrice, rawSYNTHPrice),\n                }}\n              >\n                <td>oracle SYNTH price</td>\n                <td>$ {decimalPlaces(rawSYNTHPrice)}</td>\n              </tr>\n            </tbody>\n          </Table>\n        </Card.Body>\n      </Card>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    coingeckoETHPrice: coingeckoETHPriceSelector(state),\n    coingeckoSYNTHPrice: coingeckoSYNTHPriceSelector(state),\n    coingeckoPrice: coingeckoPriceSelector(state),\n    cachedPrice: cachedPriceSelector(state),\n    latestPrice: latestPriceSelector(state),\n    rawETHPrice: rawETHPriceSelector(state),\n    rawSYNTHPrice: rawSYNTHPriceSelector(state),\n  };\n}\n\nexport default connect(mapStateToProps)(OracleCard);\n","import { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { coingeckoETHPriceSelector, coingeckoSYNTHPriceSelector, metamaskSelector, usmInputAmountSelector, metamaskSignerSelector, metamaskUSMSelector, usmBurnsSelector, usmBuyPriceSelector, usmMintsSelector, usmSellPriceSelector, usmSupplySelector } from './redux/selectors';\nimport { Button, Card, Table } from 'react-bootstrap';\nimport { decimalPlaces, stringMul, usmPriceHighlight } from './utils';\nimport { buyUSM, loadMetamask, sellUSM } from './redux/interactions';\nimport { setInputAmount } from './redux/actions';\nimport { usm } from './tokens';\n\nfunction printButtons(metamaskConnected, buy, sell, connect, inputChange) {\n  if (metamaskConnected) {\n    return (\n      <>\n        <Button onClick={sell} variant=\"warning\" size=\"sm\" className=\"float-right ml-1\">Burn (USM)</Button>\n        <Button onClick={buy} variant=\"success\" size=\"sm\" className=\"float-right ml-1\">Mint (ETH)</Button>\n        <input className=\"form-control\" style={{width: 100}} onChange={inputChange} placeholder=\"Amount\" type=\"number\" size=\"sm\" className=\"float-right ml-1\"></input>\n      </>\n    )\n  }\n  else {\n    return (<Button onClick={connect} variant=\"success\" size=\"sm\" className=\"float-right ml-1\">Connect</Button>)\n  }\n}\n\nclass USMCard extends Component {\n  render () {\n    const {dispatch, usmSupply, usmMints, usmBurns, usmMarketCap, usmMarketCapUSD,\n      usmBuyPrice, usmBuyPriceUSD, usmSellPrice, usmSellPriceUSD,\n      metamaskSigner, metamaskConnected, metamaskUSM, inputAmount, coingeckoSYNTHPrice\n    } = this.props\n\n    const connectMetamask = (e) => {\n      loadMetamask(dispatch)\n    }\n\n    const buyUsm = (e) => {\n      buyUSM(dispatch, metamaskUSM, metamaskSigner, inputAmount)\n    }\n\n    const setAmount = (e) => {\n      dispatch(setInputAmount(usm.name, e.target.value))\n    }\n\n    const sellUsm = (e) => {\n      sellUSM(dispatch, metamaskUSM, metamaskSigner, inputAmount)\n    }\n\n    return (\n      <Card>\n        <Card.Header as=\"h5\">\n          <span>USM</span>\n          {printButtons(metamaskConnected, buyUsm, sellUsm, connectMetamask, setAmount)}\n        </Card.Header>\n        <Card.Body>\n          \n          <Table striped hover size=\"sm\">\n            <tbody>\n              <tr>\n                <td>Market Cap</td>\n                <td>Ξ {decimalPlaces(usmMarketCap)}</td>\n                <td>$ {decimalPlaces(usmMarketCapUSD)}</td>\n              </tr>\n              <tr className=\"text-dark\" style={{backgroundColor: usmPriceHighlight(usmBuyPriceUSD, coingeckoSYNTHPrice)}}>\n                <td>Mint Price</td>\n                <td>Ξ {decimalPlaces(usmBuyPrice, 5)}</td>\n                <td>$ {decimalPlaces(usmBuyPriceUSD)}</td>\n              </tr>\n              <tr className=\"text-dark\" style={{backgroundColor: usmPriceHighlight(usmSellPriceUSD, coingeckoSYNTHPrice)}}>\n                <td>Burn Price</td>\n                <td>Ξ {decimalPlaces(usmSellPrice, 5)}</td>\n                <td>$ {decimalPlaces(usmSellPriceUSD)}</td>\n              </tr>\n              <tr>\n                <td>Total Supply</td>\n                <td>-</td>\n                <td>{decimalPlaces(usmSupply)}</td>\n              </tr>\n              <tr>\n                <td>No. of Mints</td>\n                <td>-</td>\n                <td>{usmMints}</td>\n              </tr>\n              <tr>\n                <td>No. of Burns</td>\n                <td>-</td>\n                <td>{usmBurns}</td>\n              </tr>\n            </tbody>\n          </Table>\n        </Card.Body>\n      </Card>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  const coingeckoSYNTHPrice = coingeckoSYNTHPriceSelector(state)\n  const coingeckoETHPrice = coingeckoETHPriceSelector(state)\n\n  const usmSupply = usmSupplySelector(state)\n  const usmBuyPrice = usmBuyPriceSelector(state)\n  const usmSellPrice = usmSellPriceSelector(state)\n  const usmMarketCap = usmSupply * usmBuyPrice\n  const usmBuyPriceUSD = stringMul(usmBuyPrice, coingeckoETHPrice)\n  const usmSellPriceUSD = stringMul(usmSellPrice, coingeckoETHPrice)\n  const usmMarketCapUSD = stringMul(usmMarketCap, coingeckoSYNTHPrice)\n\n  const metamask = metamaskSelector(state)\n  const metamaskConnected = (metamask != null);\n  return {\n    inputAmount: usmInputAmountSelector(state),\n    usmMarketCap,\n    usmMarketCapUSD,\n    usmSupply,\n    usmMints: usmMintsSelector(state),\n    usmBurns: usmBurnsSelector(state),\n    usmBuyPrice,\n    usmBuyPriceUSD,\n    usmSellPrice,\n    usmSellPriceUSD,\n    metamaskConnected,\n    coingeckoSYNTHPrice,\n    metamaskSigner: metamaskSignerSelector(state),\n    metamaskUSM: metamaskUSMSelector(state)\n  }\n}\n\nexport default connect(mapStateToProps)(USMCard);\n\n","import { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { coingeckoETHPriceSelector, fumBurnsSelector, fumBuyPriceSelector, fumInputAmountSelector, fumMintsSelector, fumSellPriceSelector, fumSupplySelector, metamaskSelector, metamaskSignerSelector, metamaskUSMSelector } from './redux/selectors';\nimport { Button, Card, Table } from 'react-bootstrap';\nimport { decimalPlaces, stringMul } from './utils';\nimport { buyFUM, loadMetamask, sellFUM } from './redux/interactions';\nimport { setInputAmount } from './redux/actions';\nimport { fum } from './tokens';\n\nfunction printButtons(metamaskConnected, buy, sell, connect, inputChange) {\n  if (metamaskConnected) {\n    return (\n      <>\n        <Button onClick={sell} variant=\"warning\" size=\"sm\" className=\"float-right ml-1\">Burn (FUM)</Button>\n        <Button onClick={buy} variant=\"success\" size=\"sm\" className=\"float-right ml-1\">Mint (ETH)</Button>\n        <input className=\"form-control\" style={{width: 100}} onChange={inputChange} placeholder=\"Amount\" type=\"number\" size=\"sm\" className=\"float-right ml-1\"></input>\n      </>\n    )\n  }\n  else {\n    return (<Button onClick={connect} variant=\"success\" size=\"sm\" className=\"float-right ml-1\">Connect</Button>)\n  }\n}\n\nclass FUMCard extends Component {\n  render() {\n    const {\n      dispatch, fumMarketCap, fumMarketCapUSD, fumSupply, fumMints, fumBurns,\n      fumBuyPrice, fumBuyPriceUSD, fumSellPrice, fumSellPriceUSD,\n      metamaskSigner, metamaskConnected, metamaskUSM, inputAmount\n    } = this.props\n\n    const connectMetamask = (e) => {\n      loadMetamask(dispatch)\n    }\n\n    const buyFum = (e) => {\n      buyFUM(dispatch, metamaskUSM, metamaskSigner, inputAmount)\n    }\n\n    const setAmount = (e) => {\n      dispatch(setInputAmount(fum.name, e.target.value))\n    }\n\n    const sellFum = (e) => {\n      sellFUM(dispatch, metamaskUSM, metamaskSigner, inputAmount)\n    }\n\n    return (\n      <Card>\n        <Card.Header as=\"h5\">\n          FUM\n          {printButtons(metamaskConnected, buyFum, sellFum, connectMetamask, setAmount)}\n        </Card.Header>\n        <Card.Body>\n          <Table striped hover size=\"sm\">\n            <tbody>\n              <tr>\n                <td>Market Cap</td>\n                <td>Ξ {decimalPlaces(fumMarketCap)}</td>\n                <td>$ {decimalPlaces(fumMarketCapUSD)}</td>\n              </tr>\n              <tr>\n                <td>Mint Price</td>\n                <td>Ξ {decimalPlaces(fumBuyPrice, 5)}</td>\n                <td>$ {decimalPlaces(fumBuyPriceUSD)}</td>\n              </tr>\n              <tr>\n                <td>Burn Price</td>\n                <td>Ξ {decimalPlaces(fumSellPrice, 5)}</td>\n                <td>$ {decimalPlaces(fumSellPriceUSD)}</td>\n              </tr>\n              <tr>\n                <td>Total Supply</td>\n                <td>-</td>\n                <td>{decimalPlaces(fumSupply)}</td>\n              </tr>\n              <tr>\n                <td>No. of Mints</td>\n                <td>-</td>\n                <td>{fumMints}</td>\n              </tr>\n              <tr>\n                <td>No. of Burns</td>\n                <td>-</td>\n                <td>{fumBurns}</td>\n              </tr>\n            </tbody>\n          </Table>\n        </Card.Body>\n      </Card>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  const coingeckoETHPrice = coingeckoETHPriceSelector(state)\n\n  const fumSupply = fumSupplySelector(state)\n  const fumBuyPrice = fumBuyPriceSelector(state)\n  const fumSellPrice = fumSellPriceSelector(state)\n  const fumMarketCap = fumSupply * fumBuyPrice\n\n  const fumBuyPriceUSD = stringMul(fumBuyPrice, coingeckoETHPrice)\n  const fumSellPriceUSD = stringMul(fumSellPrice, coingeckoETHPrice)\n  const fumMarketCapUSD = stringMul(fumMarketCap, coingeckoETHPrice)\n\n  const metamask = metamaskSelector(state)\n  const metamaskConnected = (metamask != null);\n  return {\n    inputAmount: fumInputAmountSelector(state),\n    fumMarketCap,\n    fumMarketCapUSD,\n    fumSupply,\n    fumMints: fumMintsSelector(state),\n    fumBurns: fumBurnsSelector(state),\n    fumBuyPrice,\n    fumBuyPriceUSD,\n    fumSellPrice,\n    fumSellPriceUSD,\n    metamaskConnected,\n    metamaskSigner: metamaskSignerSelector(state),\n    metamaskUSM: metamaskUSMSelector(state)\n  }\n}\n\nexport default connect(mapStateToProps)(FUMCard);\n","import './App.scss';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { loadNetwork } from './redux/interactions';\nimport { metamaskErrorSelector, networkProviderSelector } from './redux/selectors';\nimport { Col, Container, Row, Alert } from 'react-bootstrap';\nimport HealthCard from './HealthCard';\nimport OracleCard from './OracleCard';\nimport USMCard from './USMCard';\nimport FUMCard from './FUMCard';\nimport { clearMetamaskError } from './redux/actions';\n\nclass App extends Component {\n\n  render() {\n\n    const {dispatch, networkProvider, metamaskError } = this.props;\n\n    if (!networkProvider) {\n      loadNetwork(dispatch);\n    }\n\n    if (metamaskError) {\n      alert(metamaskError.toString())\n      dispatch(clearMetamaskError())\n    }\n\n    return (\n      <div className=\"App\">\n        <Container>\n          <Alert variant=\"info\">\n            This is a test of a USM fork using DIA oracles to synthetize SPICE, and it only works on kovan.\n          </Alert>\n          <Row>\n            <Col sm=\"12\" md=\"6\">\n              <HealthCard />\n            </Col>\n            <Col sm=\"12\" md=\"6\">\n              <OracleCard />\n            </Col>\n          </Row>\n          <Row>\n            <Col sm=\"12\" md=\"6\">\n              <USMCard />\n            </Col>\n            <Col sm=\"12\" md=\"6\">\n              <FUMCard />\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    );\n  }\n}\n\n\nfunction mapStateToProps(state) {\n  return {\n    networkProvider: networkProviderSelector(state),\n    metamaskError: metamaskErrorSelector(state)\n  }\n}\n\nexport default connect(mapStateToProps)(App);\n","import {combineReducers} from 'redux';\n\nfunction app(state = {}, action) {\n  switch (action.type) {\n    case 'NETWORK_LOADED':\n      return { ...state, provider: action.provider }\n    case 'USM_LOADED':\n      return { ...state, usm: action.usm }\n    case 'RAW_ORACLE_LOADED':\n      return { ...state, rawOracle: action.rawOracle }\n    case 'USMVIEW_LOADED':\n      return { ...state, usm: action.usmView }\n    case 'FUM_LOADED':\n      return { ...state, fum: action.fum }\n    case 'METAMASK_LOADED':\n      return { \n        ...state,\n        metamask: action.metamask,\n        metamaskSigner: action.signer,\n        metamaskUSM: action.usm,\n        metamaskFUM: action.fum\n      }\n    case 'METAMASK_ERROR':\n      return { ...state, metamaskError: action.error }\n    case 'CLEAR_METAMASK_ERROR':\n      return { ...state, metamaskError: null }\n    case 'SET_USM_INPUT_AMOUNT':\n      return { ...state, usmInputAmount: action.amount }\n    case 'SET_FUM_INPUT_AMOUNT':\n      return { ...state, fumInputAmount: action.amount }\n    default:\n      return state;\n  }\n}\n\nfunction usm(state = {}, action) {\n  switch (action.type) {\n    case 'USM_TOTAL_SUPPLY':\n      return { ...state, supply: action.supply }\n    case 'USM_MINTS':\n      return { ...state, mints: action.mints }\n    case 'USM_BURNS':\n      return { ...state, burns: action.burns }\n    case 'USM_COLLATERAL':\n      return { ...state, collateral: action.collateral }\n    case 'USM_DEBT_RATIO':\n      return { ...state, debtRatio: action.debtRatio }\n    case 'USM_ETH_BUFFER':\n      return { ...state, ethBuffer: action.ethBuffer }\n    case 'USM_PRICE':\n      return { ...state, buyPrice: action.buyPrice, sellPrice: action.sellPrice }\n    default:\n      return state;\n  }\n}\n\nfunction fum(state = {}, action) {\n  switch (action.type) {\n    case 'FUM_TOTAL_SUPPLY':\n      return { ...state, supply: action.supply }\n    case 'FUM_MINTS':\n      return { ...state, mints: action.mints }\n    case 'FUM_BURNS':\n      return { ...state, burns: action.burns }\n    case 'FUM_PRICE':\n      return { ...state, buyPrice: action.buyPrice, sellPrice: action.sellPrice }\n    default:\n      return state;\n  }\n}\n\nfunction oracle(state = {}, action) {\n  switch (action.type) {\n    case 'ORACLE_PRICE_COINGECKO':\n      return { ...state, coingeckoPrice: action.price }\n    case 'ORACLE_PRICE_ETH_COINGECKO':\n      return { ...state, coingeckoETHPrice: action.price }\n    case 'ORACLE_PRICE_SYNTH_COINGECKO':\n      return { ...state, coingeckoSYNTHPrice: action.price }\n    case 'ORACLE_PRICE_CACHED':\n      return { ...state, cachedPrice: action.price }\n    case 'ORACLE_PRICE_LATEST':\n      return { ...state, latestPrice: action.price }\n    case 'ORACLE_PRICE_RAW_ETH':\n      return { ...state, rawEthPrice: action.price }\n    case 'ORACLE_PRICE_RAW_SYNTH':\n      return { ...state, rawSynthPrice: action.price }\n    default:\n      return state;\n  }\n}\n\nconst rootReducer = new combineReducers({\n  app, usm, fum, oracle\n});\n\nexport default rootReducer;\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport { createLogger }  from \"redux-logger\";\nimport rootReducer from \"./reducers\";\n\nconst loggerMiddleware = createLogger();\nconst middleware = [];\n\n//connects redux browser to app\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport default function configureStore(preLoadedState){\n  return createStore(\n    rootReducer, \n    preLoadedState,\n    composeEnhancers(applyMiddleware(...middleware, loggerMiddleware))\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport configureStore from './redux/configure';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <Provider store={configureStore()}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}